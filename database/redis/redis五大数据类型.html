<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>键 - key | 技术小站</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="logo.ico">
    <meta name="description" content="生活不止眼前的代码，还有迈向田野的步伐">
    
    <link rel="preload" href="/blog/assets/css/0.styles.069fd700.css" as="style"><link rel="preload" href="/blog/assets/js/app.873d0c1d.js" as="script"><link rel="preload" href="/blog/assets/js/2.7ded94f8.js" as="script"><link rel="preload" href="/blog/assets/js/11.35581faf.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.139e9797.js"><link rel="prefetch" href="/blog/assets/js/100.a2a3b533.js"><link rel="prefetch" href="/blog/assets/js/101.6a8ca24a.js"><link rel="prefetch" href="/blog/assets/js/102.0c5c6ef0.js"><link rel="prefetch" href="/blog/assets/js/12.301967ca.js"><link rel="prefetch" href="/blog/assets/js/13.d4b42aac.js"><link rel="prefetch" href="/blog/assets/js/14.274177ab.js"><link rel="prefetch" href="/blog/assets/js/15.5f280e85.js"><link rel="prefetch" href="/blog/assets/js/16.c41bbeb4.js"><link rel="prefetch" href="/blog/assets/js/17.030c5b23.js"><link rel="prefetch" href="/blog/assets/js/18.c26f0b6b.js"><link rel="prefetch" href="/blog/assets/js/19.8417af10.js"><link rel="prefetch" href="/blog/assets/js/20.466f798e.js"><link rel="prefetch" href="/blog/assets/js/21.34878817.js"><link rel="prefetch" href="/blog/assets/js/22.4f5f098b.js"><link rel="prefetch" href="/blog/assets/js/23.fd95d88a.js"><link rel="prefetch" href="/blog/assets/js/24.eadcd081.js"><link rel="prefetch" href="/blog/assets/js/25.67cabe7b.js"><link rel="prefetch" href="/blog/assets/js/26.6abf95d0.js"><link rel="prefetch" href="/blog/assets/js/27.c56321af.js"><link rel="prefetch" href="/blog/assets/js/28.8594ef24.js"><link rel="prefetch" href="/blog/assets/js/29.6e705a3a.js"><link rel="prefetch" href="/blog/assets/js/3.e8461309.js"><link rel="prefetch" href="/blog/assets/js/30.005f9006.js"><link rel="prefetch" href="/blog/assets/js/31.78b669d3.js"><link rel="prefetch" href="/blog/assets/js/32.e25884f2.js"><link rel="prefetch" href="/blog/assets/js/33.c4753d0e.js"><link rel="prefetch" href="/blog/assets/js/34.81dc0665.js"><link rel="prefetch" href="/blog/assets/js/35.626fd49c.js"><link rel="prefetch" href="/blog/assets/js/36.42640b70.js"><link rel="prefetch" href="/blog/assets/js/37.cca83a04.js"><link rel="prefetch" href="/blog/assets/js/38.284ec5de.js"><link rel="prefetch" href="/blog/assets/js/39.4b57a6d0.js"><link rel="prefetch" href="/blog/assets/js/4.56fda3ff.js"><link rel="prefetch" href="/blog/assets/js/40.47436f1d.js"><link rel="prefetch" href="/blog/assets/js/41.3c82b8f0.js"><link rel="prefetch" href="/blog/assets/js/42.afea07eb.js"><link rel="prefetch" href="/blog/assets/js/43.5b8ab260.js"><link rel="prefetch" href="/blog/assets/js/44.a323c58e.js"><link rel="prefetch" href="/blog/assets/js/45.22041e81.js"><link rel="prefetch" href="/blog/assets/js/46.ece43f77.js"><link rel="prefetch" href="/blog/assets/js/47.da3c2e44.js"><link rel="prefetch" href="/blog/assets/js/48.a6ab5fa3.js"><link rel="prefetch" href="/blog/assets/js/49.6a81921f.js"><link rel="prefetch" href="/blog/assets/js/5.7d16fc96.js"><link rel="prefetch" href="/blog/assets/js/50.14d46c11.js"><link rel="prefetch" href="/blog/assets/js/51.ecf63375.js"><link rel="prefetch" href="/blog/assets/js/52.dcf71a88.js"><link rel="prefetch" href="/blog/assets/js/53.b3a7e972.js"><link rel="prefetch" href="/blog/assets/js/54.582378bd.js"><link rel="prefetch" href="/blog/assets/js/55.cc138142.js"><link rel="prefetch" href="/blog/assets/js/56.ef0a5e02.js"><link rel="prefetch" href="/blog/assets/js/57.347e3703.js"><link rel="prefetch" href="/blog/assets/js/58.a62c18e8.js"><link rel="prefetch" href="/blog/assets/js/59.71bce632.js"><link rel="prefetch" href="/blog/assets/js/6.c1bd8a18.js"><link rel="prefetch" href="/blog/assets/js/60.cc0a90ef.js"><link rel="prefetch" href="/blog/assets/js/61.7a0d681a.js"><link rel="prefetch" href="/blog/assets/js/62.aa94296e.js"><link rel="prefetch" href="/blog/assets/js/63.726566e3.js"><link rel="prefetch" href="/blog/assets/js/64.41e92336.js"><link rel="prefetch" href="/blog/assets/js/65.3708a7f8.js"><link rel="prefetch" href="/blog/assets/js/66.9f6b2bae.js"><link rel="prefetch" href="/blog/assets/js/67.c08aa549.js"><link rel="prefetch" href="/blog/assets/js/68.e07b0374.js"><link rel="prefetch" href="/blog/assets/js/69.d56276c4.js"><link rel="prefetch" href="/blog/assets/js/7.8d45ee92.js"><link rel="prefetch" href="/blog/assets/js/70.4e02846f.js"><link rel="prefetch" href="/blog/assets/js/71.3d298157.js"><link rel="prefetch" href="/blog/assets/js/72.8a0b4143.js"><link rel="prefetch" href="/blog/assets/js/73.8b72754f.js"><link rel="prefetch" href="/blog/assets/js/74.a2a25d8e.js"><link rel="prefetch" href="/blog/assets/js/75.041c92a8.js"><link rel="prefetch" href="/blog/assets/js/76.64fe3140.js"><link rel="prefetch" href="/blog/assets/js/77.470d9b57.js"><link rel="prefetch" href="/blog/assets/js/78.c8026334.js"><link rel="prefetch" href="/blog/assets/js/79.ffc7408a.js"><link rel="prefetch" href="/blog/assets/js/8.fbb7d904.js"><link rel="prefetch" href="/blog/assets/js/80.804422f5.js"><link rel="prefetch" href="/blog/assets/js/81.d69db625.js"><link rel="prefetch" href="/blog/assets/js/82.216d7984.js"><link rel="prefetch" href="/blog/assets/js/83.38f8751c.js"><link rel="prefetch" href="/blog/assets/js/84.9aaa7af1.js"><link rel="prefetch" href="/blog/assets/js/85.642391da.js"><link rel="prefetch" href="/blog/assets/js/86.f0e8e665.js"><link rel="prefetch" href="/blog/assets/js/87.364c2a22.js"><link rel="prefetch" href="/blog/assets/js/88.49c848da.js"><link rel="prefetch" href="/blog/assets/js/89.fa7b3a39.js"><link rel="prefetch" href="/blog/assets/js/9.c16fb42f.js"><link rel="prefetch" href="/blog/assets/js/90.07b786a0.js"><link rel="prefetch" href="/blog/assets/js/91.e8716c3d.js"><link rel="prefetch" href="/blog/assets/js/92.84b2246c.js"><link rel="prefetch" href="/blog/assets/js/93.5fa59731.js"><link rel="prefetch" href="/blog/assets/js/94.c658d2b3.js"><link rel="prefetch" href="/blog/assets/js/95.3c80b249.js"><link rel="prefetch" href="/blog/assets/js/96.9afec815.js"><link rel="prefetch" href="/blog/assets/js/97.3785264e.js"><link rel="prefetch" href="/blog/assets/js/98.1f4fc63f.js"><link rel="prefetch" href="/blog/assets/js/99.04d5a081.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.069fd700.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">技术小站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java篇" class="dropdown-title"><span class="title">Java篇</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java篇" class="mobile-dropdown-title"><span class="title">Java篇</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/collection/" class="nav-link">
  Java容器
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/jvm/" class="nav-link">
  JVM虚拟机
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/concurrent/" class="nav-link">
  高并发
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/database/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/blog/database/redis/" class="nav-link router-link-active">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架篇" class="dropdown-title"><span class="title">框架篇</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架篇" class="mobile-dropdown-title"><span class="title">框架篇</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/frame/spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/blog/frame/springboot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/blog/frame/mybatis/" class="nav-link">
  MyBatis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/middleware/es/" class="nav-link">
  Elasticsearch
</a></li></ul></div></div><div class="nav-item"><a href="/blog/design/" class="nav-link">
  设计模式
</a></div><div class="nav-item"><a href="/blog/util/" class="nav-link">
  工具向
</a></div><div class="nav-item"><a href="/blog/personal/" class="nav-link">
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java篇" class="dropdown-title"><span class="title">Java篇</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java篇" class="mobile-dropdown-title"><span class="title">Java篇</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/java/collection/" class="nav-link">
  Java容器
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/jvm/" class="nav-link">
  JVM虚拟机
</a></li><li class="dropdown-item"><!----> <a href="/blog/java/concurrent/" class="nav-link">
  高并发
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/database/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/blog/database/redis/" class="nav-link router-link-active">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架篇" class="dropdown-title"><span class="title">框架篇</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架篇" class="mobile-dropdown-title"><span class="title">框架篇</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/frame/spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/blog/frame/springboot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/blog/frame/mybatis/" class="nav-link">
  MyBatis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/middleware/es/" class="nav-link">
  Elasticsearch
</a></li></ul></div></div><div class="nav-item"><a href="/blog/design/" class="nav-link">
  设计模式
</a></div><div class="nav-item"><a href="/blog/util/" class="nav-link">
  工具向
</a></div><div class="nav-item"><a href="/blog/personal/" class="nav-link">
  关于我
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="键-key"><a href="#键-key" class="header-anchor">#</a> 键 - key</h2> <p>在了解数据类型之前，先了解一下 redis 的键。</p> <p>在 redis 中 命令不区分大小写，但是注意 <strong>redis 中的 key 和 value 是区分大小写的</strong>。</p> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210718224605.png" alt="image-20210715161837066"></p> <h2 id="字符串-string"><a href="#字符串-string" class="header-anchor">#</a> 字符串 - string</h2> <p>字符串数据结构是简单的 K-V 模式数据结构。</p> <h3 id="特点"><a href="#特点" class="header-anchor">#</a> 特点</h3> <ul><li>单值单 value。</li> <li>二进制安全，可以包含任何数据。</li> <li>一个键对应 value 值最大能存储数据 512 MB。</li></ul> <h3 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h3> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210715163125.png" alt="image-20210715141418272"></p> <ul><li>设置字符串 -  <code>set test 100</code></li> <li>查询字符串  - <code>get test</code></li> <li>删除字符串 - <code>del test</code></li> <li>追加字符串 - <code>append test</code></li> <li>查询字符串长度 -  <code>strlen test</code></li> <li>批量添加 - <code>mset A 1 B 2</code></li> <li>批量获取 - <code>mget A B</code></li> <li>先查询再设置 - <code>getset hello world</code></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210715141320.png" alt="image-20210715141320878"></p> <hr> <h3 id="自增自减命令"><a href="#自增自减命令" class="header-anchor">#</a> 自增自减命令</h3> <p>由于 redis 是基于单线程的，这些增减命令都具有原子性。</p> <p>注意命令只能操作 value 是数字的 key 值。</p> <ul><li>自增1 -  <code>incr count</code></li> <li>自减1 - <code>decr count</code></li> <li>自增指定值 - <code>incrby count 10</code></li> <li>自减指定值 - <code>decrby count 10</code></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210715141702.png" alt="image-20210715141702887"></p> <blockquote><p>incr 和 decr 命令应用场景很广泛，可用于点赞数量统计等场景。</p></blockquote> <hr> <ul><li>查询字符串指定区间 - <code>getrange key start end</code></li> <li>设置字符串指定区间 - <code>setrange key offset value</code></li> <li>设置可过期字符串（秒） - <code>setex key seconds value</code></li> <li>值不存在可设置 - <code>setnx key value</code></li> <li>批量设置值不存在可设置 - <code>msetnx key value [key value ...]</code></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210715144700.png" alt="image-20210715144700772"></p> <h3 id="实战总结"><a href="#实战总结" class="header-anchor">#</a> 实战总结</h3> <ol><li><p>点赞数量</p> <ul><li><p>新增点赞</p> <p><code>incr read</code></p></li> <li><p>点赞总数</p> <p><code>get read</code></p></li></ul></li> <li><p>文章阅读量</p></li></ol> <h2 id="列表-list"><a href="#列表-list" class="header-anchor">#</a> 列表 - list</h2> <p>list 是类似双端链表或双端队列的数据结构。</p> <h3 id="特点-2"><a href="#特点-2" class="header-anchor">#</a> 特点</h3> <ul><li>类似双向链表或双端队列，可以在列表左右两边操作数据。</li> <li>单值对应多 value。</li> <li>列表是有序的，按照 value 插入数据对 value 排序。</li> <li>列表存放的 value 可重复。</li></ul> <p>​		<img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210715163205.png" alt="image-20210715163205871"></p> <h3 id="常用命令-2"><a href="#常用命令-2" class="header-anchor">#</a> 常用命令</h3> <ul><li>列表左边增加元素 - <code>lpush key element [element ...]</code></li> <li>列表右边增加元素 - <code>rpush key element [element ...]</code></li> <li>列表左边删除元素 - <code>lpop key</code></li> <li>列表右边删除元素 - <code>rpop key</code></li> <li>遍历列表（开始～结束） - <code>lrange key start stop</code></li> <li>获取列表指定位置元素 - <code>lindex key index</code></li> <li>查询列表长度 - <code>llen key</code></li> <li>删除多个相同 value - <code>lrem key count element</code></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210715172144.png" alt="image-20210715172121562"></p> <ul><li>截取列表重新赋值 - <code>ltrim key start stop</code></li> <li>从源列表右边提取元素放到目的列表 - <code>rpoplpush source destination</code></li> <li>修改列表指定位置 value - <code>lset key index element</code></li> <li>在列表指定位置前或后添加元素 - <code>linsert key BEFORE|AFTER pivot element</code></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210715172911.png" alt="image-20210715172911836"></p> <h3 id="实战总结-2"><a href="#实战总结-2" class="header-anchor">#</a> 实战总结</h3> <ol><li><p>公众号文章订阅</p> <ul><li><p>新增文章</p> <p><code>lpush code java css</code></p></li> <li><p>获取推送的最近5篇文章</p> <p><code>lrange code 0 4</code></p></li></ul></li></ol> <h2 id="哈希表-hash"><a href="#哈希表-hash" class="header-anchor">#</a> 哈希表 - hash</h2> <p>hash 的数据结构也是 K-V 模式，但是 hash 的 V 对应 K-V，也就是 <strong>K-（K-V）</strong>，适合存储对象。比如存储用户信息，K 是用户Id，V 是用户信息。</p> <h3 id="特点-3"><a href="#特点-3" class="header-anchor">#</a> 特点</h3> <ul><li>数据结构特点是 K -（K-V），K 和 V 都是字符串类型。</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210718224641.png" alt=""></p> <h3 id="常用命令-3"><a href="#常用命令-3" class="header-anchor">#</a> 常用命令</h3> <ul><li>添加元素 - <code>hset key field value [field value ...]</code></li> <li>获取元素- <code>hget key field</code></li> <li>向哈希表批量添加元素 - <code>hmset key field value [field value ...]</code></li> <li>批量获取哈希表元素 - <code>hmget key field [field ...]</code></li> <li>获取哈希表所有元素 - <code>hgetall key</code></li> <li>删除哈希表中的元素 - <code>hdel key field [field ...]</code></li> <li>获取哈希表长度 - <code>hlen key</code></li> <li>判断哈希表中是否存在某个 key - <code>hexists key field</code></li> <li>获取哈希表所有 key - <code>hkeys key</code></li> <li>获取哈希表指定 key 的所有 value - <code>hvals key</code></li> <li>增加哈希表指定 key 的 value（value 必须是数值，增加整数）- <code>hincrby key field increment</code></li> <li>增加哈希表指定 key 的 value （value 必须是数值，支持浮点数）- <code>hincrbyfloat key field increment</code></li> <li>对哈希表某个 key 赋值（key 值不存在进行赋值，key 值存在此命令无效）-</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210718210828.png" alt="image-20210718210828555"></p> <h3 id="实战总结-3"><a href="#实战总结-3" class="header-anchor">#</a> 实战总结</h3> <ol><li><p>购物车</p> <ul><li><p>添加商品</p> <p><code>hset shopcart 10001 1</code></p></li> <li><p>增加商品数量</p> <p><code>hincreby shopcart 10001 1</code></p></li> <li><p>统计购物车商品总数</p> <p><code>hlen shopcar</code></p></li> <li><p>删除商品</p> <p><code>hdel shopcart 10001</code></p></li> <li><p>获取购物车列表</p> <p><code>hgetall shopcart</code></p></li></ul></li></ol> <h2 id="无序集合-set"><a href="#无序集合-set" class="header-anchor">#</a> 无序集合 - set</h2> <p>set 是一种无序集合，存储元素无序并且不可重复。</p> <h3 id="特点-4"><a href="#特点-4" class="header-anchor">#</a> 特点</h3> <ul><li>单值对应多 value。</li> <li>set 集合存放元素是<strong>无序</strong>的。</li> <li>set 集合存放的元素是<strong>不可重复的</strong>。</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210718224733.png" alt="image-20210718224733903"></p> <h3 id="常用命令-4"><a href="#常用命令-4" class="header-anchor">#</a> 常用命令</h3> <ul><li>添加元素 - <code>sadd key member [member ...]</code></li> <li>遍历集合元素 - <code>smembers key</code></li> <li>判断某个元素是否存在集合中 - <code>sismember key member</code></li> <li>获取集合中元素个数 - <code>scard key</code></li> <li>删除集合元素 - <code>srem key member [member ...]</code></li> <li>从集合从随机获取几个数（不删除）- <code>srandmember key [count]</code></li> <li>集合元素随机出栈 - <code>spop key [count]</code></li> <li>将一个集合内的某个值赋给另一个集合 - <code>smove source destination member</code></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210718203023.png" alt="image-20210718203023584"></p> <h3 id="数据集合类"><a href="#数据集合类" class="header-anchor">#</a> 数据集合类</h3> <ul><li><p>差集 - <code>sdiff key [key ...]</code></p></li> <li><p>交集 - <code>sinter key [key ...]</code></p></li> <li><p>并集 - <code>sunion key [key ...]</code></p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210718203236.png" alt="image-20210718203236165"></p> <h3 id="实战总结-4"><a href="#实战总结-4" class="header-anchor">#</a> 实战总结</h3> <ol><li><p>景点预约功能</p> <ul><li>新增预约</li> <li>取消预约</li> <li>判断用户是否预约过</li> <li>统计预约总人数</li> <li>展示预约用户信息</li></ul></li> <li><p>抽奖功能</p> <ul><li><p>参加抽奖</p></li> <li><p>统计参加人数</p></li> <li><p>随机抽两个人（不限次数）</p> <p><code>srandmember key [count]</code></p></li> <li><p>随机抽两人（只能中一次）</p> <p><code>stop key [count]</code></p></li></ul></li> <li><p>微博共同关注的人</p> <ul><li>对两个用户关注的人取交集</li></ul></li> <li><p>QQ - 可能认识的人</p> <ul><li>对两个用户取差集</li></ul></li></ol> <h2 id="有序集合-zset"><a href="#有序集合-zset" class="header-anchor">#</a> 有序集合 - zset</h2> <p>zset 是有序版本，是在 set 集合的基础上，增加一个 score 值，来进行排序。</p> <h3 id="特点-5"><a href="#特点-5" class="header-anchor">#</a> 特点</h3> <ul><li>数据结构是  <code>k v1 score1 v2 score2</code></li> <li>zset 集合存放元素是<strong>有序</strong>的。</li> <li>zset 集合存放元素也是<strong>不可重复</strong>的。</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210718224715.png" alt="image-20210718224715172"></p> <h3 id="常用命令-5"><a href="#常用命令-5" class="header-anchor">#</a> 常用命令</h3> <ul><li><p>添加元素 - <code>zadd key [NX|XX] [CH] [INCR] score member [score member ...]</code></p></li> <li><p>遍历元素（可选是否显示分数） - <code>zrange key start stop [WITHSCORES]</code></p></li> <li><p>删除集合中某个元素 - <code>zrem key member [member ...]</code></p></li> <li><p>根据分数过滤元素 - <code>zrangebyscore key min max [WITHSCORES] [LIMIT offset count]</code></p> <p>可以选择展示分数（withscores）和限制元素个数（limit）。</p></li> <li><p>对集合中某个元素进行增量 - <code>zincrby key increment member</code></p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210718223443.png" alt="image-20210718223443609"></p> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210718211946.png" alt="image-20210718211946513"></p> <ul><li><p>获取集合中元素总个数 - <code>zcard key</code></p></li> <li><p><strong>获取集合指定分数区间的元素个数</strong> - <code>zcount key min max</code></p></li> <li><p>获取集合中指定元素的下标 - <code>zrank key member</code></p></li> <li><p>获取集合中指定元素的分数 - <code>zscore key member</code></p></li> <li><p><strong>倒序遍历集合区间</strong> - <code>zrevrange key start stop [WITHSCORES]</code></p></li> <li><p>倒序获取集合中某个元素的下标 - <code>zrevrank key member</code></p></li> <li><p>按照倒序根据分数过滤元素 - <code>zrevrangebyscore key max min [WITHSCORES] [LIMIT offset count]</code></p> <p>从最大值到最小值过滤，可以选择展示分数（withscores）和限制元素个数（limit）。</p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20210718214057.png" alt="image-20210718214057384"></p> <h3 id="实战总结-5"><a href="#实战总结-5" class="header-anchor">#</a> 实战总结</h3> <ol><li><p>销售排行榜</p> <ul><li><p>增加商品销量</p> <p><code>zincrby book 1 java</code></p></li> <li><p>查询前十条销售量的商品</p> <p><code>zrevrange book 0 9 WITHSCORES</code></p></li></ul></li> <li><p>微博热搜排行榜</p> <ul><li><p>添加新闻初始热度</p> <p><code>zadd weibo 250000 test</code></p></li> <li><p>点击增加热度</p> <p><code>zincrby weibo 1 test</code></p></li> <li><p>查询前十条热度最高的新闻</p> <p><code>zrevrange weibo 0 9 WITHSCORES</code></p></li></ul></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.873d0c1d.js" defer></script><script src="/blog/assets/js/2.7ded94f8.js" defer></script><script src="/blog/assets/js/11.35581faf.js" defer></script>
  </body>
</html>
