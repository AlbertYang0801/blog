(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{339:function(t,s,a){"use strict";a.r(s);var r=a(18),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"mysql日志系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql日志系统"}},[t._v("#")]),t._v(" MySQL日志系统")]),t._v(" "),s("h2",{attrs:{id:"undo-log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#undo-log"}},[t._v("#")]),t._v(" undo.log")]),t._v(" "),s("p",[s("strong",[t._v("记录被更新前的数据。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2025/06/13/2qrd8h7f6nCpPUs.png",alt:""}})]),t._v(" "),s("p",[t._v("InnoDB 支持事务，在事务执行失败回滚时，数据会回到操作前的样子。")]),t._v(" "),s("p",[s("code",[t._v("undo.log")]),t._v(" 就是为了事务回滚，恢复数据的。")]),t._v(" "),s("p",[t._v("回滚对应的操作如下：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("insert")]),t._v(" "),s("p",[t._v("插入一条记录时，将这条记录的主键记录下来，回滚时根据主键删除。")])]),t._v(" "),s("li",[s("p",[t._v("update")]),t._v(" "),s("p",[t._v("更新一条记录时，将更新的列的旧值记录下来，回滚时将这些值更新回去。")])]),t._v(" "),s("li",[s("p",[t._v("delete")]),t._v(" "),s("p",[t._v("删除一条记录时，将这条记录记录下来，回滚时重新插入到表中。")])])]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("在 MySQL 崩溃时，未提交的事务会影响到数据的准确性。此时就需要 "),s("code",[t._v("undo.log")]),t._v(" 去回滚未提交的事务。")]),t._v(" "),s("h2",{attrs:{id:"redo-log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redo-log"}},[t._v("#")]),t._v(" redo.log")]),t._v(" "),s("p",[t._v("记录被修改后的数据。")]),t._v(" "),s("p",[t._v("当数据从磁盘中获取到，存到 "),s("code",[t._v("Buffer Pool")]),t._v(" 后，同时将操作前的数据存到 "),s("code",[t._v("undo.log")]),t._v(" 中。")]),t._v(" "),s("p",[t._v("对数据的操作都是在内存中，若发生了断电宕机，内存中的数据会丢失。")]),t._v(" "),s("p",[t._v("此时就引入了 "),s("code",[t._v("redo.log")]),t._v("，来解决"),s("strong",[t._v("断电宕机")]),t._v("的问题。")]),t._v(" "),s("p",[s("code",[t._v("redo.log")]),t._v(" 是 InnoDB引擎独有的，是存储引擎级别，不是 MySQL 级别的。")]),t._v(" "),s("h3",{attrs:{id:"作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#作用"}},[t._v("#")]),t._v(" 作用")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2025/06/13/CghsYDIOGZcb5dQ.png",alt:""}})]),t._v(" "),s("p",[s("code",[t._v("redo.log")]),t._v(" 记录的是修改后的数据。"),s("em",[t._v("记录的是物理层面，“对什么数据，做了什么改动”。")])]),t._v(" "),s("h3",{attrs:{id:"宕机恢复"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#宕机恢复"}},[t._v("#")]),t._v(" 宕机恢复")]),t._v(" "),s("p",[t._v("在 MySQL 重启后，存储引擎会将 "),s("code",[t._v("redo.log")]),t._v(" 中的数据恢复到 "),s("code",[t._v("Buffer Pool")]),t._v(" 中。")]),t._v(" "),s("p",[t._v("InnoDB 可以保证即使数据库发生异常重启，之前提交的记录都不会丢失。")]),t._v(" "),s("h3",{attrs:{id:"redo-log-buffer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redo-log-buffer"}},[t._v("#")]),t._v(" redo log buffer")]),t._v(" "),s("p",[t._v("由于 "),s("code",[t._v("redo.log")]),t._v(" 也是磁盘上的文件，所以引入了 "),s("code",[t._v("redo log buffer")]),t._v(" 来减少磁盘 I/O 读写。")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("更新后的记录会先写到 "),s("code",[t._v("redo log buffer")]),t._v(" 里，再根据刷盘策略刷到 "),s("code",[t._v("redo.log")]),t._v(" 中。")]),t._v(" "),s("h3",{attrs:{id:"刷盘策略"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#刷盘策略"}},[t._v("#")]),t._v(" 刷盘策略")]),t._v(" "),s("p",[s("code",[t._v("redo log buffer")]),t._v(" 中的数据写入到 "),s("code",[t._v("redo.log")]),t._v("。")]),t._v(" "),s("p",[t._v("日志文件中刷盘策略可以通过 "),s("code",[t._v("innodb_flush_log_at_trx_commit")]),t._v(" 参数来设置 :")]),t._v(" "),s("ul",[s("li",[t._v("0：表示不刷入磁盘")]),t._v(" "),s("li",[t._v("1：表示立即刷入磁盘")]),t._v(" "),s("li",[t._v("2：表示先刷到 os cache")])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"极端问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#极端问题"}},[t._v("#")]),t._v(" 极端问题")]),t._v(" "),s("p",[t._v("假如在 "),s("code",[t._v("redo log buffer")]),t._v(" 中的数据写入 "),s("code",[t._v("redo.log")]),t._v(" 之前发生宕机情况，内存中的数据是否丢失？")]),t._v(" "),s("p",[t._v("此时内存中的数据会丢失，按照事务未成功处理，会根据 "),s("code",[t._v("undo.log")]),t._v(" 中的数据回滚到之前的数据。")]),t._v(" "),s("h3",{attrs:{id:"文件限制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件限制"}},[t._v("#")]),t._v(" 文件限制")]),t._v(" "),s("p",[t._v("InnoDB 的 redo log 是固定大小的，比如可以配置为一组 4 个文件，每个文件的大小是 1GB，总共可以记录 4GB的数据。")]),t._v(" "),s("p",[t._v("从头开始写，写到末尾就又回到开头循环写。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2025/06/13/rWQfm53kHSRBxNG.png",alt:""}})]),t._v(" "),s("p",[s("code",[t._v("write pos")]),t._v(" 是当前记录的位置，一边写一边后移，写到第 3 号文件末尾后就回到 0 号文件开头。")]),t._v(" "),s("p",[s("code",[t._v("check point")]),t._v(" 是当前要擦除的位置，也是往后推移并且循环的，擦除记录前要把记录更新到数据文件。")]),t._v(" "),s("p",[s("code",[t._v("write pos")]),t._v(" 和 "),s("code",[t._v("checkpoint")]),t._v(" 之间的是“粉板”上还空着的部分，可以用来记录新的操作。如果 "),s("code",[t._v("write pos")]),t._v(" 追上 "),s("code",[t._v("check point")]),t._v("，表示“粉板”满了，这时候不能再执行新的更新，得停下来先擦掉一些记录，把 "),s("code",[t._v("check point")]),t._v(" 推进一下。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2025/06/13/I34yqBgObKNcxo2.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"修改文件大小"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改文件大小"}},[t._v("#")]),t._v(" 修改文件大小")]),t._v(" "),s("p",[t._v("配置文件中修改"),s("code",[t._v("innodb_log_file_size")]),t._v("参数大小来调整 redo log 的日志大小。单个 redo log 日志文件大小为 48MB。")]),t._v(" "),s("blockquote",[s("p",[t._v("innodb_log_file_size 参数的默认值为 48MB")])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("mysql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SHOW")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GLOBAL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VARIABLES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("LIKE")]),t._v(" 'innodb_log_file_size'"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Variable_name")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Value")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" innodb_log_file_size "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50331648")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" row in set "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.13")]),t._v(" sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("在 mysql 配置文件 my.cnf 中新增如下配置：")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("mysqld"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innodb_log_file_size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("G\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h2",{attrs:{id:"bin-log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bin-log"}},[t._v("#")]),t._v(" bin.log")]),t._v(" "),s("p",[s("strong",[t._v("记录整个操作记录。")])]),t._v(" "),s("p",[s("code",[t._v("redo log")]),t._v("是 InnoDB 存储引擎特有的日志文件，在 InnoDB引擎中操作。而"),s("code",[t._v("bin log")]),t._v("属于是 MySQL 级别的日志，在"),s("strong",[t._v("执行器")]),t._v("中操作。")]),t._v(" "),s("p",[s("code",[t._v("redo log")]),t._v("记录的东西是偏向于物理性质的，如：“对什么数据，做了什么修改”。")]),t._v(" "),s("p",[s("code",[t._v("bin log")]),t._v("是偏向于逻辑性质的，类似于：“对 students 表中的 id 为 1 的记录做了更新操作”。")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"写入文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#写入文件"}},[t._v("#")]),t._v(" 写入文件")]),t._v(" "),s("p",[t._v("在提交事务阶段，执行器会将操作后的数据写入内存，然后刷到磁盘上的 "),s("code",[t._v("bin.log")]),t._v(" 日志文件中。")]),t._v(" "),s("h3",{attrs:{id:"文件限制-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件限制-2"}},[t._v("#")]),t._v(" 文件限制")]),t._v(" "),s("p",[s("code",[t._v("bin.log")]),t._v(" 日志文件是追加使用的，限制日志文件的大小，写满之后会顺序向后写。由 "),s("code",[t._v("binlog.index")]),t._v(" 管理文件名。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2025/06/13/KWQx7lPEINM28hr.png",alt:""}})]),t._v(" "),s("p",[t._v("而 "),s("code",[t._v("bin.log")]),t._v(" 文件的默认过期时间是 30天，在过期之后会将文件删除。")]),t._v(" "),s("h3",{attrs:{id:"刷盘策略-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#刷盘策略-2"}},[t._v("#")]),t._v(" 刷盘策略")]),t._v(" "),s("p",[s("code",[t._v("bin.log")]),t._v(" 的刷盘策略可以根据 "),s("code",[t._v("sync_bin log")]),t._v(" 参数来修改。")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("默认为0，表示先写入 os cache。")]),t._v(" "),s("p",[t._v("也就是说在提交事务的时候，数据不会直接到磁盘中，这样如果宕机"),s("code",[t._v("bin log")]),t._v("数据仍然会丢失。")])]),t._v(" "),s("li",[s("p",[t._v("1：表示"),s("strong",[t._v("直接将数据写入到磁盘")]),t._v("文件中。")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2025/06/13/jsGzBW5hlZyrfPU.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"使用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[t._v("#")]),t._v(" 使用场景")]),t._v(" "),s("p",[s("code",[t._v("bin.log")]),t._v(" 适用于 "),s("strong",[t._v("手动数据恢复 和 主从复制")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"拓展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拓展"}},[t._v("#")]),t._v(" 拓展")]),t._v(" "),s("h3",{attrs:{id:"crase-safe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#crase-safe"}},[t._v("#")]),t._v(" crase-safe")]),t._v(" "),s("p",[s("code",[t._v("crase-safe")]),t._v(" 能力指的是 MySQL 服务器宕机重启后。保证：")]),t._v(" "),s("ul",[s("li",[t._v("所有已经提交的事务的数据不会丢失。")]),t._v(" "),s("li",[t._v("所有没有提交的事务的数据自动回滚。")])]),t._v(" "),s("h3",{attrs:{id:"日志的两阶段提交"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#日志的两阶段提交"}},[t._v("#")]),t._v(" 日志的两阶段提交")]),t._v(" "),s("p",[t._v("在 MySQL 日志中，"),s("code",[t._v("redo.log")]),t._v(" 和 "),s("code",[t._v("bin.log")]),t._v(" 中都记录了更新的数据。")]),t._v(" "),s("p",[t._v("在提交更新 SQL 时，必需要保证两个日志文件的一致性。要么全都失败、要么全都成功。不然会出现数据丢失问题。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.loli.net/2025/06/13/NcRsGW1hFY5oPEv.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"第一阶段-prepare阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第一阶段-prepare阶段"}},[t._v("#")]),t._v(" 第一阶段 - prepare阶段")]),t._v(" "),s("p",[t._v("在执行器调用引擎接口记录最终 SQL数据时。")]),t._v(" "),s("p",[t._v("引擎会将最终数据以物理逻辑（对什么数据，做了什么改动）形式存到 "),s("code",[t._v("redo log b uffer")]),t._v(" 中，再根据刷盘策略 "),s("code",[t._v("fsync")]),t._v(" 到磁盘日志文件 "),s("code",[t._v("redo.log")]),t._v(" 中。此时将 "),s("code",[t._v("redo.log")]),t._v(" 状态变为 "),s("code",[t._v("prepare")]),t._v(" 。")]),t._v(" "),s("p",[t._v("引擎通知执行器可以提交事务。")]),t._v(" "),s("h3",{attrs:{id:"第二阶段-commit阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第二阶段-commit阶段"}},[t._v("#")]),t._v(" 第二阶段 - commit阶段")]),t._v(" "),s("p",[t._v("执行器开始提交事务。")]),t._v(" "),s("p",[t._v("执行器将 SQL语句的逻辑操作（SQL语句）写入到 "),s("code",[t._v("binlog cahce")]),t._v("，再根据刷盘策略 "),s("code",[t._v("fsync")]),t._v(" 到磁盘日志文件 "),s("code",[t._v("bin.log")]),t._v("。")]),t._v(" "),s("p",[t._v("执行器再次调用引擎接口，引擎将 "),s("code",[t._v("redo.log")]),t._v(" 的状态改为 "),s("code",[t._v("commit")]),t._v("。")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"事务状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事务状态"}},[t._v("#")]),t._v(" 事务状态")]),t._v(" "),s("p",[t._v("只有两阶段全部提交，才会视为整个事务成功执行。")]),t._v(" "),s("p",[t._v("若事务在写日志时，二阶段将 "),s("code",[t._v("redo.log")]),t._v(" 改为 "),s("code",[t._v("commit")]),t._v(" 状态之前发生断电宕机情况，都视为事务提交失败。")]),t._v(" "),s("p",[t._v("在重启恢复时，会按照 "),s("code",[t._v("undo.log")]),t._v(" 中记录的数据回滚事务。")])])}),[],!1,null,null,null);s.default=e.exports}}]);