(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{337:function(s,a,t){"use strict";t.r(a);var e=t(18),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"mysql异常问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql异常问题"}},[s._v("#")]),s._v(" MySQL异常问题")]),s._v(" "),a("h2",{attrs:{id:"配置类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置类型"}},[s._v("#")]),s._v(" 配置类型")]),s._v(" "),a("h3",{attrs:{id:"_1-navicat连接数量过多"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-navicat连接数量过多"}},[s._v("#")]),s._v(" 1. Navicat连接数量过多")]),s._v(" "),a("h4",{attrs:{id:"异常体现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#异常体现"}},[s._v("#")]),s._v(" 异常体现")]),s._v(" "),a("p",[s._v("报错 "),a("strong",[s._v("Too many connections")])]),s._v(" "),a("h4",{attrs:{id:"解决办法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决办法"}},[s._v("#")]),s._v(" 解决办法")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("查看最大连接数")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" variables "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%max_connections%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("全局修改最大连接数")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" max_connections "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("重启 MySQL")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("systemctl restart mysqld\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-导入sql脚本提示-sql-mode-only-full-group-by"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-导入sql脚本提示-sql-mode-only-full-group-by"}},[s._v("#")]),s._v(' 2. 导入SQL脚本提示 "sql_mode=only_full_group_by"')]),s._v(" "),a("h4",{attrs:{id:"异常信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#异常信息"}},[s._v("#")]),s._v(" 异常信息")]),s._v(" "),a("p",[s._v("导入SQL脚本提示 "),a("code",[s._v("sql_mode=only_full_group_by")])]),s._v(" "),a("h4",{attrs:{id:"解决办法-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决办法-2"}},[s._v("#")]),s._v(" 解决办法")]),s._v(" "),a("p",[s._v("1、查看sql_mode")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" @"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@sql_mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("查询出来的值为：")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("ONLY_FULL_GROUP_BY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("STRICT_TRANS_TABLES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("NO_ZERO_IN_DATE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("NO_ZERO_DATE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ERROR_FOR_DIVISION_BY_ZERO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("NO_AUTO_CREATE_USER"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("NO_ENGINE_SUBSTITUTION\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("2、去掉 "),a("code",[s._v("ONLY_FULL_GROUP_BY")]),s._v("，重新设置值。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" @"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.sql_mode")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("3、上面是改变了全局 "),a("code",[s._v("sql_mode")]),s._v("，对于新建的数据库有效。对于已存在的数据库，则需要在对应数据库下执行：")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" sql_mode "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("————————————————\n版权声明：本文为CSDN博主「Ch3n」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。\n原文链接：https://blog.csdn.net/weixin_43064185/article/details/99646535")])])}),[],!1,null,null,null);a.default=r.exports}}]);