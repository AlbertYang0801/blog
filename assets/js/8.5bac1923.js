(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{368:function(s,t,a){"use strict";a.r(t);var n=a(26),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"mysql基础"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql基础"}},[s._v("#")]),s._v(" MySQL基础")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#mysql%E5%9F%BA%E7%A1%80"}},[s._v("MySQL基础")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E4%B8%80%E3%80%81ddl%E8%AF%AD%E5%8F%A5"}},[s._v("一、DDL语句")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%AE%A1%E7%90%86"}},[s._v("数据库的管理")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%9A%84%E7%AE%A1%E7%90%86"}},[s._v("数据表的管理")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E4%BA%8C%E3%80%81dml%E8%AF%AD%E8%A8%80"}},[s._v("二、DML语言")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%8F%92%E5%85%A5"}},[s._v("插入")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%9B%B4%E6%96%B0"}},[s._v("更新")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%88%A0%E9%99%A4"}},[s._v("删除")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#delete"}},[s._v("delete")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#truncate"}},[s._v("truncate")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E4%B8%A4%E7%A7%8D%E5%88%A0%E9%99%A4%E6%96%B9%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB"}},[s._v("两种删除方式的区别")])])])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E4%B8%89%E3%80%81%E6%9F%A5%E8%AF%A2%E6%80%BB%E7%BB%93"}},[s._v("三、查询总结")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97"}},[s._v("比较运算")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"}},[s._v("模糊查询")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%8E%BB%E9%87%8D%E6%9F%A5%E8%AF%A2"}},[s._v("去重查询")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2"}},[s._v("聚合查询")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"}},[s._v("分组查询")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2"}},[s._v("排序查询")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"}},[s._v("分页查询")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%90%88%E5%B9%B6%E6%9F%A5%E8%AF%A2"}},[s._v("合并查询")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%AD%90%E6%9F%A5%E8%AF%A2"}},[s._v("子查询")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#where-%E5%9E%8B%E5%AD%90%E6%9F%A5%E8%AF%A2"}},[s._v("where 型子查询")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#from-%E5%9E%8B%E5%AD%90%E6%9F%A5%E8%AF%A2"}},[s._v("from 型子查询")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"}},[s._v("多表查询")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E7%AC%9B%E5%8D%A1%E5%B0%94%E9%9B%86"}},[s._v("笛卡尔集")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"}},[s._v("等值连接")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E8%87%AA%E8%BF%9E%E6%8E%A5"}},[s._v("自连接")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%86%85%E8%BF%9E%E6%8E%A5"}},[s._v("内连接")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%B7%A6%E8%BF%9E%E6%8E%A5"}},[s._v("左连接")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%8F%B3%E8%BF%9E%E6%8E%A5"}},[s._v("右连接")])])])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%9B%9B%E3%80%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"}},[s._v("四、数据类型")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B"}},[s._v("整数类型")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%B0%8F%E6%95%B0%E7%B1%BB%E5%9E%8B"}},[s._v("小数类型")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%B5%AE%E7%82%B9%E7%B1%BB%E5%9E%8B"}},[s._v("浮点类型")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%AE%9A%E7%82%B9%E7%B1%BB%E5%9E%8B"}},[s._v("定点类型")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%B5%AE%E7%82%B9%E6%95%B0%E5%92%8C%E5%AE%9A%E7%82%B9%E6%95%B0%E7%9A%84%E6%AF%94%E8%BE%83"}},[s._v("浮点数和定点数的比较")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B"}},[s._v("时间类型")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B"}},[s._v("字符类型")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E4%BA%94%E3%80%81%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"}},[s._v("五、常用函数")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E5%AD%97%E7%AC%A6%E5%87%BD%E6%95%B0"}},[s._v("字符函数")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0"}},[s._v("数学函数")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0"}},[s._v("日期函数")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%85%B6%E5%AE%83%E5%87%BD%E6%95%B0"}},[s._v("其它函数")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E8%BF%9E%E6%8E%A5%E5%87%BD%E6%95%B0--concat"}},[s._v("连接函数- concat")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%88%86%E7%BB%84%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0---group_concat"}},[s._v("分组聚合函数 - group_concat")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%97%B6%E9%97%B4%E6%88%B3%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%87%BD%E6%95%B0---date-format"}},[s._v("时间戳格式化函数 - date-format")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%85%AD%E3%80%81%E7%BA%A6%E6%9D%9F"}},[s._v("六、约束")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E4%BB%80%E4%B9%88%E6%98%AF%E7%BA%A6%E6%9D%9F%EF%BC%9F"}},[s._v("什么是约束？")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F---unique"}},[s._v("唯一约束 - UNIQUE")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F%E5%92%8C%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95%E7%9A%84%E5%85%B3%E7%B3%BB%EF%BC%9F"}},[s._v("唯一约束和唯一索引的关系？")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%96%B0%E5%A2%9E%E5%92%8C%E5%8F%96%E6%B6%88%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F"}},[s._v("新增和取消唯一约束")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F---primary"}},[s._v("主键约束 - PRIMARY")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F"}},[s._v("外键约束")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0%E5%A4%96%E9%94%AE"}},[s._v("如何添加外键")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%88%A0%E9%99%A4%E5%92%8C%E6%9B%B4%E6%96%B0%E7%9A%84%E5%A4%84%E7%90%86%E7%AD%96%E7%95%A5"}},[s._v("删除和更新的处理策略")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F"}},[s._v("非空约束")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%96%B0%E5%A2%9E%E5%92%8C%E5%8F%96%E6%B6%88%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F"}},[s._v("新增和取消非空约束")])])])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E4%B8%83%E3%80%81%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"}},[s._v("七、常见问题")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#having-%E5%92%8C-where-%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F"}},[s._v("having 和 where 的区别？")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#select-%E8%AF%AD%E5%8F%A5%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"}},[s._v("SELECT 语句执行顺序")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E9%99%A4%E6%B3%95-div-%E5%92%8C--%E7%9A%84%E5%8C%BA%E5%88%AB"}},[s._v("除法 div 和 / 的区别")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"}},[s._v("参考链接")])])])])]),s._v(" "),a("h2",{attrs:{id:"一、ddl语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、ddl语句"}},[s._v("#")]),s._v(" 一、DDL语句")]),s._v(" "),a("p",[s._v("数据定义语言DDL用来创建数据库中的各种对象-----表、视图、索引、同义词、聚簇等。DDL操作是隐性提交的，不能 RollBack。")]),s._v(" "),a("h3",{attrs:{id:"数据库的管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库的管理"}},[s._v("#")]),s._v(" 数据库的管理")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("新建数据库")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" 库名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("删除数据库")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" 库名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"数据表的管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据表的管理"}},[s._v("#")]),s._v(" 数据表的管理")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("创建表")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("sex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tinyint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'性别'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("group_code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMENT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'外键'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("property"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("decimal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("create_time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("datetime")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENGINE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("InnoDB")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARSET")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("删除表")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("表名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("修改表")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 表名 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MODIFY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("CHANGE "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" 字段名 【字段类型】"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("修改表名")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" classroom "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RENAME")]),s._v("  class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("修改表字段")]),s._v(" "),a("p",[a("strong",[s._v("语法")])]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" student CHANGE "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("旧字段名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("新字段名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("字段类型"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("比如如下 SQL：")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" student CHANGE "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" old new "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("bigint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("修改表字段类型")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MODIFY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" sex "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tinyint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("新增字段")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" email "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("删除字段")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"二、dml语言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、dml语言"}},[s._v("#")]),s._v(" 二、DML语言")]),s._v(" "),a("p",[s._v("数据操纵语言 DML 主要有三种形式：插入（INSERT）、更新（UPDATE）和删除（DELETE）。")]),s._v(" "),a("h3",{attrs:{id:"插入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插入"}},[s._v("#")]),s._v(" 插入")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" 表名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("字段名，"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("值"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("特点")])]),s._v(" "),a("ol",[a("li",[s._v("字段类型和值类型一致或兼容，而且一一对应。")]),s._v(" "),a("li",[s._v("可以为空的字段，可以不用插入值，或用 NULL 填充。")]),s._v(" "),a("li",[s._v("不可以为空的字段，必须插入值。")]),s._v(" "),a("li",[s._v("字段个数和值的个数必须一致。")]),s._v(" "),a("li",[s._v("字段可以省略，但默认所有字段，并且顺序和表中的存储顺序一致。")])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新"}},[s._v("#")]),s._v(" 更新")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("更新单表")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" 表名 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" filed1"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("value1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("filed2"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("value2 【"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" 条件】\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("更新多表")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v("  别名"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("表"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 别名"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" 字段"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("新值，字段"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("新值\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" 连接条件\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" 筛选条件\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除"}},[s._v("#")]),s._v(" 删除")]),s._v(" "),a("h4",{attrs:{id:"delete"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete"}},[s._v("#")]),s._v(" delete")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("单表删除")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" 表名 【"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" 筛选条件】\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("多表删除")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" 别名"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，别名"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" 表"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 别名"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，表"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 别名"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" 连接条件\n\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" 筛选条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"truncate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#truncate"}},[s._v("#")]),s._v(" truncate")]),s._v(" "),a("p",[a("strong",[s._v("语法")])]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("truncate")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" 表名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"两种删除方式的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#两种删除方式的区别"}},[s._v("#")]),s._v(" 两种删除方式的区别")]),s._v(" "),a("ul",[a("li",[s._v("DELETE 是逐行一条一条删除记录的；TRUNCATE 则是直接删除原来的表，再重新创建一个一模一样的新表，而不是逐行删除表中的数据，执行数据比 DELETE 快。因此需要删除表中全部的数据行时，尽量使用 TRUNCATE 语句， 可以缩短执行时间。")]),s._v(" "),a("li",[s._v("DELETE 删除数据后，配合事件回滚可以找回数据；TRUNCATE 不支持事务的回滚，数据删除后无法找回。")]),s._v(" "),a("li",[s._v("DELETE 删除数据后，系统不会重新设置自增字段的计数器；TRUNCATE 清空表记录后，系统会重新设置自增字段的计数器。")]),s._v(" "),a("li",[s._v("DELETE 的使用范围更广，因为它可以通过 WHERE 子句指定条件来删除部分数据；而 TRUNCATE 不支持 WHERE 子句，只能删除整体。")]),s._v(" "),a("li",[s._v("DELETE 会返回删除数据的行数，但是 TRUNCATE 只会返回 0，没有任何意义。")])]),s._v(" "),a("p",[a("strong",[s._v("总结")])]),s._v(" "),a("p",[a("strong",[s._v("当不需要该表时，用 DROP；当仍要保留该表，但要删除所有记录时，用 TRUNCATE；当要删除部分记录时，用 DELETE。")])]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"三、查询总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、查询总结"}},[s._v("#")]),s._v(" 三、查询总结")]),s._v(" "),a("p",[a("strong",[s._v("测试数据")])]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211014192757.png",alt:"image-20211014192757892"}}),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"比较运算"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#比较运算"}},[s._v("#")]),s._v(" 比较运算")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("操作符")]),s._v(" "),a("th",[s._v("含义")]),s._v(" "),a("th",[s._v("备注")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("=")]),s._v(" "),a("td",[s._v("等于")]),s._v(" "),a("td",[s._v("不是 ==")])]),s._v(" "),a("tr",[a("td",[s._v(">")]),s._v(" "),a("td",[s._v("大于")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v(">=")]),s._v(" "),a("td",[s._v("大于等于")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("<")]),s._v(" "),a("td",[s._v("小于")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("<=")]),s._v(" "),a("td",[s._v("小于等于")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("<>")]),s._v(" "),a("td",[s._v("不等于")]),s._v(" "),a("td",[s._v("也可以是 !=")])]),s._v(" "),a("tr",[a("td",[s._v("BETWEEN [START] AND [END]")]),s._v(" "),a("td",[s._v("在两个值之间")]),s._v(" "),a("td",[s._v("包含边界")])]),s._v(" "),a("tr",[a("td",[s._v("IN (V1,V2,V3)")]),s._v(" "),a("td",[s._v("是否存在于值列表中")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("LIKE")]),s._v(" "),a("td",[s._v("模糊查询")]),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[s._v("IS (NOT) NULL")]),s._v(" "),a("td",[s._v("判断空值")]),s._v(" "),a("td")])])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("BETWEEN-AND")]),s._v(" "),a("p",[a("code",[s._v("BETWEEN [START] AND [END]")]),s._v(" 范围查询，包含条件的边界值，类似于 "),a("code",[s._v("END <= value <=START")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" amount_money "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("BETWEEN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.60")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\t《繁华"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("》\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.60")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\t爱读书的人\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("07")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("03")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("\t《繁华"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("》\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.60")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\t爱读书的人\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("46")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("\t限时发送的订单\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\tyjw\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("07")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"模糊查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模糊查询"}},[s._v("#")]),s._v(" 模糊查询")]),s._v(" "),a("p",[s._v("使用 LIKE 关键字进行模糊查询。")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("%")]),s._v(" 代表任意个字符。")]),s._v(" "),a("li",[a("code",[s._v("_")]),s._v(" 代表一个字符。")])]),s._v(" "),a("p",[a("em",[a("code",[s._v("%")]),s._v(" 和 "),a("code",[s._v("_")]),s._v(" 可以同时使用。")])]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" order_name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%2'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//NULL")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" order_name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%2%'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//《繁华2》")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" order_name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%2_'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//《繁华2》")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"去重查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#去重查询"}},[s._v("#")]),s._v(" 去重查询")]),s._v(" "),a("p",[a("strong",[s._v("在查询列前添加关键字 "),a("code",[s._v("DISTINCT")]),s._v(",可实现对查询结果的去重复。")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("单列去重")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v(" order_name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211014192844.png",alt:"image-20211014192844791"}})]),s._v(" "),a("li",[a("p",[s._v("多列去重")]),s._v(" "),a("p",[s._v("对多列也可以实现去重。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v(" order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_status "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211014192908.png",alt:"image-20211014192908539"}})])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"聚合查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#聚合查询"}},[s._v("#")]),s._v(" 聚合查询")]),s._v(" "),a("p",[s._v("MySQL 中有聚合函数，用来对"),a("strong",[s._v("某一列")]),s._v("进行计算，常用函数列表如下。")]),s._v(" "),a("p",[a("em",[s._v("聚合函数默认情况下会忽略值为 null 的行，不参与计算。")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("函数")]),s._v(" "),a("th",[s._v("作用")]),s._v(" "),a("th",[s._v("备注")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("AVG([distinct] expr)")]),s._v(" "),a("td",[s._v("求平均值")]),s._v(" "),a("td",[s._v("适用于数值型字段")])]),s._v(" "),a("tr",[a("td",[s._v("COUNT({*|[distinct] } expr)")]),s._v(" "),a("td",[s._v("统计行的数量")]),s._v(" "),a("td",[a("code",[s._v("count(*)")]),s._v("统计数据行数；"),a("code",[s._v("count(列名)")]),s._v("统计列值非空的数量;")])]),s._v(" "),a("tr",[a("td",[s._v("MAX([distinct] expr)")]),s._v(" "),a("td",[s._v("求最大值")]),s._v(" "),a("td",[s._v("适用于任意数据类型字段")])]),s._v(" "),a("tr",[a("td",[s._v("MIN([distinct] expr)")]),s._v(" "),a("td",[s._v("求最小值")]),s._v(" "),a("td",[s._v("适用于任意数据类型字段")])]),s._v(" "),a("tr",[a("td",[s._v("SUM([distinct] expr)")]),s._v(" "),a("td",[s._v("求累加和")]),s._v(" "),a("td",[s._v("适用于数值型字段")])])])]),s._v(" "),a("p",[a("strong",[s._v("注意")])]),s._v(" "),a("ol",[a("li",[s._v("聚合函数不允许嵌套。")]),s._v(" "),a("li",[s._v("聚合函数的参数可以是"),a("strong",[s._v("某一列")]),s._v("或者"),a("strong",[s._v("函数表达式")]),s._v("。")]),s._v(" "),a("li",[s._v("一个 SELECT 子句可以有多个聚合函数。")]),s._v(" "),a("li",[s._v("WHERE 子句不能使用组函数，而 Having 可以使用组函数。")])]),s._v(" "),a("p",[a("strong",[s._v("SQL练习")])]),s._v(" "),a("p",[s._v("测试表内容如下：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211014193715.png",alt:"image-20211014193715527"}})]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("select "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" from order_infowhere amount_money"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//3")]),s._v("\nselect "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" from order_info\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//100")]),s._v("\nselect "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DISTINCT")]),s._v(" amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" from order_info\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//2")]),s._v("\nselect "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DISTINCT")]),s._v(" amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" from order_info\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//61.800000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//函数表达式")]),s._v("\nselect "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("TO_DAYS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("create_time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" from order_info\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//738355.8333")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("hr"),s._v(" "),a("h3",{attrs:{id:"分组查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分组查询"}},[s._v("#")]),s._v(" 分组查询")]),s._v(" "),a("p",[a("strong",[s._v("分组查询格式")])]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("聚合函数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("字段名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("字段名 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" 表名 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" 查询条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" 字段名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("having")]),s._v(" 过滤条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("GROUP BY 语句根据一个或多个列对结果集进行分组，在分组的列上我们可以使用 COUNT, SUM, AVG 等聚合函数。")]),s._v(" "),a("p",[s._v("Having 是用来对"),a("strong",[s._v("查询结果过滤")]),s._v("的，使用的"),a("strong",[s._v("过滤条件须为查询结果包含的字段")]),s._v("，在Having 中可以使用聚合函数。")]),s._v(" "),a("p",[s._v("包含 GROUP BY 的分组查询语句，SELECT 后查询出来的字段，要么包含在聚合函数里，要么作为分组的依据包含在 GROUP BY 后面。（若某个字段没有作为分组条件，有可能会产生多条记录，若再不使用聚合函数将多条记录聚合为一条记录，则与分组会发生冲突）")]),s._v(" "),a("p",[a("strong",[s._v("SQL练习")])]),s._v(" "),a("p",[s._v("测试表内容如下：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211014200314.png",alt:"image-20211014193715527"}})]),s._v(" "),a("ul",[a("li",[a("p",[s._v("分组查询")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" count "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" order_name\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//《繁华2》\t2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//限时发送的订单\t8")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("分组查询 - 带 having")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" count "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" order_name\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HAVING")]),s._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//限时发送的订单\t8")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("分组查询 - having 使用聚合函数")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" count "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" order_name\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HAVING")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//限时发送的订单\t8")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"排序查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#排序查询"}},[s._v("#")]),s._v(" 排序查询")]),s._v(" "),a("p",[s._v("ORDER BY 可以对查询结果排序，位于 SELECT 查询语句的结尾（若有 limit 语句，则limit 语句在最终结尾处）。")]),s._v(" "),a("p",[s._v("其中 "),a("strong",[s._v("DESC 是倒序排列")]),s._v("，"),a("strong",[s._v("ASC 是正序排列")]),s._v("。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("正序排列 - asc")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" count "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" order_name\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" count "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("asc")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//《繁华2》\t2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//限时发送的订单\t8")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("倒序排列 - desc")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" count "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" order_name\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" order_name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//限时发送的订单\t8")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//《繁华2》\t2")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("分组合并排列")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" count "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" order_name\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//限时发送的订单\t8")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//《繁华2》\t2")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"分页查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分页查询"}},[s._v("#")]),s._v(" 分页查询")]),s._v(" "),a("p",[s._v("通过 LIMIT 关键字可以对查询结果进行分页，返回分页后的数据。")]),s._v(" "),a("blockquote",[a("p",[s._v("分页查询公式：LIMIT （当前页数-1）* 每页条数，每页条数")])]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PageNo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("PageSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("PageSize ；\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("em",[s._v("注意：LIMIT 语句必须在 SELECT 语句的结尾。")])]),s._v(" "),a("hr"),s._v(" "),a("ul",[a("li",[a("p",[s._v("前 10 条记录")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("第 11 至 20 条记录")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("第 20 至 30 条记录")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("p",[a("strong",[a("code",[s._v("LIMIT n, m")]),s._v(" 的效率是十分低的，一般可以通过在 WHERE 条件中指定范围来优化。 WHERE id > ? limit 10；")])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"合并查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合并查询"}},[s._v("#")]),s._v(" 合并查询")]),s._v(" "),a("p",[s._v("MySQL 中合并查询有 UNION 和 UNION ALL 两种。")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("UNION 用于把多个 SELECT 的查询结果集合并成一个。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("进行合并的 SELECT 列表必须在"),a("strong",[s._v("字段数量和数据结构上保持一致")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("最终结果集的列名来自第一个 SELECT 语句")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("默认会去对结果行去重复")]),s._v("。")])])]),s._v(" "),a("hr"),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("amount_money "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" amount_money"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("amount_money "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" money "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" amount_money"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(" \n\n限时发送的订单\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("\n《繁华"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("》\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.60")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("UNION ALL 不会去重复。")])]),s._v(" "),a("p",[s._v("相同的SQL，使用 UNION ALL 之后，查询结果不会去重。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("amount_money "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" amount_money"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("amount_money "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" money "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" amount_money"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(" \n\n限时发送的订单\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("\n限时发送的订单\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("\n限时发送的订单\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("\n《繁华"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("》\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.60")]),s._v("\n《繁华"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("》\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.60")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#子查询"}},[s._v("#")]),s._v(" 子查询")]),s._v(" "),a("h4",{attrs:{id:"where-型子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#where-型子查询"}},[s._v("#")]),s._v(" where 型子查询")]),s._v(" "),a("p",[s._v("把内层的查询结果当作外部查询的比较条件。")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("使用倒序加分页实现只查询 Id 最大的一条记录。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" id "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("使用 where 子查询查询 id 最大的一条记录。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("使用 where 子查询查询每个种类下 Id 最大的一条记录。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("MAX")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" id   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("例子练习：")]),s._v(" "),a("p",[a("strong",[s._v("先查出表里的最大时间，再根据最大时间查询数据。需要将最大时间作为一个条件。")])]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" monitor_id "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" monitorId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("monitor_name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" monitorName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("loss"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("avg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("mtr_time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" web_jkb_mtr_detail\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" mtr_time "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" maxtime "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mtr_time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" maxtime "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" web_jkb_mtr_detail "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" monitor_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" one\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" monitor_id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" avg "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"from-型子查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#from-型子查询"}},[s._v("#")]),s._v(" from 型子查询")]),s._v(" "),a("p",[s._v("from 型子查询把内层的查询结果作为一个临时表，供外层的 SQL 查询，临时表要起一个别名。")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("查询 id 最大的记录。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" tmp\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"多表查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多表查询"}},[s._v("#")]),s._v(" 多表查询")]),s._v(" "),a("h4",{attrs:{id:"笛卡尔集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#笛卡尔集"}},[s._v("#")]),s._v(" 笛卡尔集")]),s._v(" "),a("p",[s._v("在多表查询的情况下，出现下列情况时，就有可能会产生笛卡尔集。")]),s._v(" "),a("ul",[a("li",[s._v("省略连接条件")]),s._v(" "),a("li",[s._v("连接条件无效")]),s._v(" "),a("li",[s._v("所有表中的所有行互相连接")])]),s._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211018121316.png",alt:"image-20211018121316852"}}),s._v(" "),a("p",[s._v("在 SQL 中的体现如下图：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211018121506.jpg",alt:"bubuko.com,布布扣"}})]),s._v(" "),a("hr"),s._v(" "),a("h4",{attrs:{id:"等值连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#等值连接"}},[s._v("#")]),s._v(" 等值连接")]),s._v(" "),a("p",[s._v("查询多表时，可以在 WHERE 子句中添加连接条件（注意区分多表中的相同列）。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tenant_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tenant_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tenant_name\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tenant_info\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tenant_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//24\t23.60\t《繁华2》\t24\ttest")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"自连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自连接"}},[s._v("#")]),s._v(" 自连接")]),s._v(" "),a("p",[s._v("同一个表连接查询。")]),s._v(" "),a("p",[s._v("案例：查询员工名和直接上级的名称")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("last_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("last_name\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" employees e\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" employees m "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("manager_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("employee_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"内连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内连接"}},[s._v("#")]),s._v(" 内连接")]),s._v(" "),a("p",[s._v("内连接查询结果返回的是两个表中都满足链接条件的记录。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tenant_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tenant_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tenant_name\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" tenant_info\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tenant_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.60")]),s._v("\t《繁华"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("》\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\ttest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"左连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#左连接"}},[s._v("#")]),s._v(" 左连接")]),s._v(" "),a("p",[s._v("左连接会将链接的左边数据全部返回，而右表只返回满足链接的有效数据，其余返回 NULL。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tenant_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tenant_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tenant_name\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" tenant_info\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tenant_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.60")]),s._v("\t《繁华"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("》\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\t test\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.60")]),s._v("\t《繁华"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("》\t"),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v("\t\t《繁华"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("》\t\t\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v("\t\t限时发送的订单\t\t\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v("\t限时发送的订单\t\t\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h4",{attrs:{id:"右连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#右连接"}},[s._v("#")]),s._v(" 右连接")]),s._v(" "),a("p",[s._v("右连接会将链接的右表数据全部返回，而左表只返回满足链接的有效数据，其余返回 NULL。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tenant_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tenant_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tenant_name\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("right")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" tenant_info\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" order_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tenant_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n\n"),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\t\t\t"),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\t\t\t"),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.60")]),s._v("\t《繁华"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("》\t"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\t\ttest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"四、数据类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、数据类型"}},[s._v("#")]),s._v(" 四、数据类型")]),s._v(" "),a("h3",{attrs:{id:"整数类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#整数类型"}},[s._v("#")]),s._v(" 整数类型")]),s._v(" "),a("p",[s._v("常用整数类型有 TINYINT、INT、BIGINT 等。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021103234.png",alt:"image-20211021090440027"}})]),s._v(" "),a("p",[a("em",[s._v("在设计表格的时候要为列选择合适的数据类型。比如存储枚举字段，只有 0 和 1 两个值，此时应该选择 TINYINT 。若选择了 BIGINT，则会造成大量的空间浪费，是不可取的。")])]),s._v(" "),a("p",[a("strong",[s._v("TINYINT 测试")])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("有符号")]),s._v(" "),a("p",[s._v("设置 sex 字段为 (tinyint) 数据类型后，发现默认是带符号的。由此可以得出 "),a("strong",[s._v("MySQL 默认整数数据类型是带符号的")]),s._v("。")]),s._v(" "),a("p",[s._v("同时当填充 128 时，报错超出范围，验证了 tinyint 数据类型有符号时的范围是 -128 ～ 127。")]),s._v(" "),a("p",[s._v("tinyint 大小是 1 个字节，有符号取值范围是 10000000 ～ 01111111。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021103240.png",alt:"image-20211020111644652"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021103246.png",alt:"image-20211020111720215"}})])]),s._v(" "),a("li",[a("p",[s._v("无符号")]),s._v(" "),a("p",[s._v("创建字段时添加 "),a("code",[s._v("unsigned")]),s._v(" 标识或者在工具中为字段勾选 "),a("em",[s._v("无符号")]),s._v(" 选项。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("sex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tinyint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unsigned")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021103250.png",alt:"image-20211020112655313"}})]),s._v(" "),a("p",[s._v("设置无符号之后，为 sex 字段填充 -1 就会报错超出范围，验证了"),a("strong",[s._v("无符号时不能存储负数")]),s._v("。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021103256.png",alt:"image-20211020112546487"}})]),s._v(" "),a("p",[s._v("填充 256 报错超出范围，验证了"),a("strong",[s._v("无符号时 tinyint 的数据范围是 0 ～ 255")]),s._v("。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021103259.png",alt:"image-20211020112905690"}})])]),s._v(" "),a("li",[a("p",[s._v("长度-填充零")]),s._v(" "),a("p",[s._v("整数数据类型设置长度的时候，和存储数据的大小是没有联系的，比如 tinyint 类型存储数据大小还是 1 个字节，int 类型依然是 4 个字节。")]),s._v(" "),a("p",[s._v("长度指的是展示数据的长度，比如 sex 长度为 2，填充 sex 为 1 时，会自动填充为 01。填充值若超过该长度，无作用。（只针对填充数值不足长度限制时）")]),s._v(" "),a("p",[s._v("长度限制只在对字段添加**填充零（zerofill）**的规范时生效。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021103308.png",alt:"image-20211021085912509"}})]),s._v(" "),a("p",[s._v("​\t通过测试结果发现，当 sex 长度为 2，且添加 zerofill 规范后。填充 sex = 1 时，查询会自动补齐两位。当 sex = 127，超过长度 2 时，则数值无变化。")])])]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021103310.png",alt:"image-20211021085938289"}}),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"小数类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小数类型"}},[s._v("#")]),s._v(" 小数类型")]),s._v(" "),a("p",[s._v("MySQL 支持的小数类型有 FLOAT、DOUBLE、DECIMAL等，其中 FLOAT 和 DOUBLE 是浮点数类型，而 DECLMAL 是定点数类型。")]),s._v(" "),a("p",[s._v("浮点类型和定点类型都可以用"),a("code",[s._v("(M, D)")]),s._v("来表示，其中"),a("code",[s._v("M")]),s._v("称为精度，表示总共的位数；"),a("code",[s._v("D")]),s._v("称为标度，表示小数的位数。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021103320.png",alt:" "}})]),s._v(" "),a("h4",{attrs:{id:"浮点类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浮点类型"}},[s._v("#")]),s._v(" 浮点类型")]),s._v(" "),a("p",[s._v("FLOAT 代表单精度浮点类型。DOUBLE 代表双精度浮点类型。")]),s._v(" "),a("p",[a("em",[s._v("FLOAT(M,N) 格式，M 代表整数位加小数位的和，N 代表小数位。FLOAT(5,2) 代表整数位加小数位总长度为 5，小数点后长度为 2。")])]),s._v(" "),a("p",[s._v("与整数数值一样，浮点类型也可以设置数据长度，还能设置小数点位数，若插入元素超过了允许的长度时，系统会自动的四舍五入。")]),s._v(" "),a("p",[s._v("浮点数也可以使用无符号（unsigned）规范和长度规范（zerofile）。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021102556.png",alt:"image-20211021095311960"}})]),s._v(" "),a("h4",{attrs:{id:"定点类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定点类型"}},[s._v("#")]),s._v(" 定点类型")]),s._v(" "),a("p",[s._v("DECIMAL 类型不同于 FLOAT 和 DOUBLE。DOUBLE 实际上是以字符串的形式存放的，DECIMAL 可能的最大取值范围与 DOUBLE 相同，但是有效的取值范围由 M 和 D 决定。如果改变 M 而固定 D，则取值范围将随 M 的变大而变大。")]),s._v(" "),a("p",[a("strong",[s._v("DECIMAL 的默认 D 值为 0、M 值为 10。")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021101837.png",alt:"image-20211021101837077"}})]),s._v(" "),a("h4",{attrs:{id:"浮点数和定点数的比较"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浮点数和定点数的比较"}},[s._v("#")]),s._v(" 浮点数和定点数的比较")]),s._v(" "),a("p",[s._v("在 MySQL 中，浮点数容易丢失精度，存储近似值。而定点数以字符串形式存储，在对"),a("strong",[s._v("精度要求比较高的时候（如货币、科学数据），使用 DECIMAL 的类型比较好")]),s._v("，另外两个浮点数进行减法和比较运算时也容易出问题，所以"),a("strong",[s._v("在使用浮点数时需要注意，并尽量避免做浮点数比较")]),s._v("。")]),s._v(" "),a("p",[s._v("比如当同时存 "),a("strong",[s._v("9876543.21")]),s._v(" 时，"),a("code",[s._v("float(10,2)")]),s._v(" 类型存储结果为 "),a("code",[s._v("9876543.00")]),s._v(" ，丢失了小数点后的数字。而 "),a("code",[s._v("decimal(10,2)")]),s._v(" 类型存储正常。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021102810.png",alt:"image-20211021102810188"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021102834.png",alt:"image-20211021102833961"}})]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"时间类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#时间类型"}},[s._v("#")]),s._v(" 时间类型")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021103334.png",alt:"image-20211020102328282"}})]),s._v(" "),a("p",[s._v("timestamp 和实际时区有关，更能反映实际的日期，而 dataTime 只能反映出插入时的当地时区时间。")]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"字符类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字符类型"}},[s._v("#")]),s._v(" 字符类型")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211021103336.png",alt:"image-20211020102343121"}})]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"五、常用函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、常用函数"}},[s._v("#")]),s._v(" 五、常用函数")]),s._v(" "),a("h3",{attrs:{id:"字符函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字符函数"}},[s._v("#")]),s._v(" 字符函数")]),s._v(" "),a("ul",[a("li",[s._v("concat拼接")]),s._v(" "),a("li",[s._v("substr截取子串")]),s._v(" "),a("li",[s._v("upper转换成大写")]),s._v(" "),a("li",[s._v("lower转换成小写")]),s._v(" "),a("li",[s._v("trim去前后指定的空格和字符")]),s._v(" "),a("li",[s._v("ltrim去左边空格")]),s._v(" "),a("li",[s._v("rtrim去右边空格")]),s._v(" "),a("li",[s._v("replace替换")]),s._v(" "),a("li",[s._v("lpad左填充")]),s._v(" "),a("li",[s._v("rpad右填充")]),s._v(" "),a("li",[s._v("instr返回子串第一次出现的索引")]),s._v(" "),a("li",[s._v("length 获取字节个数")])]),s._v(" "),a("h3",{attrs:{id:"数学函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数学函数"}},[s._v("#")]),s._v(" 数学函数")]),s._v(" "),a("ul",[a("li",[s._v("round 四舍五入")]),s._v(" "),a("li",[s._v("rand 随机数")]),s._v(" "),a("li",[s._v("floor向下取整")]),s._v(" "),a("li",[s._v("ceil向上取整")]),s._v(" "),a("li",[s._v("mod取余")]),s._v(" "),a("li",[s._v("truncate截断")])]),s._v(" "),a("h3",{attrs:{id:"日期函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#日期函数"}},[s._v("#")]),s._v(" 日期函数")]),s._v(" "),a("ul",[a("li",[s._v("now当前系统日期+时间")]),s._v(" "),a("li",[s._v("curdate当前系统日期")]),s._v(" "),a("li",[s._v("curtime当前系统时间")]),s._v(" "),a("li",[s._v("str_to_date 将字符转换成日期")]),s._v(" "),a("li",[s._v("date_format将日期转换成字符")])]),s._v(" "),a("h3",{attrs:{id:"其它函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其它函数"}},[s._v("#")]),s._v(" 其它函数")]),s._v(" "),a("ul",[a("li",[s._v("version版本")]),s._v(" "),a("li",[s._v("database当前库")]),s._v(" "),a("li",[s._v("user当前连接用户")])]),s._v(" "),a("h3",{attrs:{id:"连接函数-concat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接函数-concat"}},[s._v("#")]),s._v(" 连接函数- concat")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("concat(str1,str2,...)")]),s._v(" 函数可以将多列连接在一起，生成新的字符串。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" concat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" name "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//《繁华2》-23.60")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//《繁华2》-23.60")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// NULL")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// NULL")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 限时发送的订单-100.00")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 限时发送的订单-100.00")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("em",[s._v("注意 concat 函数在连接字符的时候，只要其中有某一个字段为 NULL，那么则整个返回 NULL。")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("concat_ws(separator, str1, str2, ...)")]),s._v(" 函数也可以将多列连接在一起，第一个参数 separator 是"),a("strong",[s._v("其它参数之间的分隔符")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" concat_ws"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("order_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//《繁华2》-23.60-《繁华2》")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//《繁华2》-23.60-《繁华2》")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//《繁华2》-《繁华2》")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 限时发送的订单-限时发送的订单")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 限时发送的订单-100.00-限时发送的订单")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("em",[s._v("即使某一个字段为 NULL，该函数会继续拼接。")])])])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"分组聚合函数-group-concat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分组聚合函数-group-concat"}},[s._v("#")]),s._v(" 分组聚合函数 - group_concat")]),s._v(" "),a("p",[a("code",[s._v("group_concat(expr)")]),s._v(" 该函数主要是与 GROUP BY 搭配使用，对分组后每一组内的某个字段以逗号进行拼接。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" GROUP_CONCAT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" order_name\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//23.60,23.60")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//100.00,100.00,100.00,100.00,100.00,100.00,100.00,100.00")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("也可以不使用 GROUP BY ，对某一列符合条件的进行拼接。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" GROUP_CONCAT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("amount_money"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" order_info \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//23.60,23.60,100.00,100.00,100.00,100.00,100.00,100.00,100.00,100.00")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("hr"),s._v(" "),a("h3",{attrs:{id:"时间戳格式化函数-date-format"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#时间戳格式化函数-date-format"}},[s._v("#")]),s._v(" 时间戳格式化函数 - date-format")]),s._v(" "),a("p",[a("strong",[s._v("mysql数据库存放的是时间戳，取出的时候希望将时间戳转换为指定格式的时间字符串；")])]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//时间戳单位为s")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" \nDATE_FORMAT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FROM_UNIXTIME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:%i:%s'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("hour")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" monitor_jky_bandwidth \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//时间戳单位为ms")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" DATE_FORMAT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FROM_UNIXTIME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1598341522000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%H'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//结果：15")]),s._v("\n\n\n注意：\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("div")]),s._v("为整除，只会取商的整数部分，不会四舍五入。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("hr"),s._v(" "),a("h2",{attrs:{id:"六、约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、约束"}},[s._v("#")]),s._v(" 六、约束")]),s._v(" "),a("h3",{attrs:{id:"什么是约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是约束"}},[s._v("#")]),s._v(" 什么是约束？")]),s._v(" "),a("ul",[a("li",[s._v("为了保证数据一致性和完整性，通过约束的方式来限制数据表。")]),s._v(" "),a("li",[s._v("约束是对数据表的强制规定。")]),s._v(" "),a("li",[s._v("可以在创建数据表时添加约束，也可以在数据表创建之后添加约束（通过 ALTER TABLE 语句）。")])]),s._v(" "),a("p",[a("strong",[s._v("约束的种类")])]),s._v(" "),a("ul",[a("li",[s._v("唯一约束 - UNIQUE")]),s._v(" "),a("li",[s._v("主键约束 - PRIMARY KEY")]),s._v(" "),a("li",[s._v("外键约束 - FOREIGN KEY")]),s._v(" "),a("li",[s._v("非空约束 - NOT NULL")])]),s._v(" "),a("p",[a("strong",[s._v("约束的范围")])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("根据约束数据列的限制，可以分为单列约束和多列约束。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("单列约束")]),s._v(" "),a("p",[s._v("每个约束只约束一列，例如指定单列的唯一约束。")])]),s._v(" "),a("li",[a("p",[s._v("多列约束")]),s._v(" "),a("p",[s._v("每个约束可约束多列数据。")])])])]),s._v(" "),a("li",[a("p",[s._v("根据约束的作用范围，可以分为列级约束和表级约束。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("列级约束")]),s._v(" "),a("p",[s._v("只能作用在一个列上，跟在某列定义的后面。")])]),s._v(" "),a("li",[a("p",[s._v("表级约束")]),s._v(" "),a("p",[s._v("可以作用在多个列上，不与列一起定义，而是单独定义。")])])])])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"唯一约束-unique"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#唯一约束-unique"}},[s._v("#")]),s._v(" 唯一约束 - UNIQUE")]),s._v(" "),a("p",[s._v("唯一约束用来限制数据表的某些字段值不能重复，创建唯一约束时可以指定单列，也可以指定多列。同一个表也可以设置多个唯一约束。")]),s._v(" "),a("h4",{attrs:{id:"唯一约束和唯一索引的关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#唯一约束和唯一索引的关系"}},[s._v("#")]),s._v(" 唯一约束和唯一索引的关系？")]),s._v(" "),a("p",[a("em",[s._v("创建唯一性约束，会自动创建一个同名的唯一索引，这个索引不能够单独删除，删除唯一约束会自动删除该索引")]),s._v("。"),a("strong",[s._v("唯一约束是通过唯一索引来实现数据的唯一")]),s._v("。")]),s._v(" "),a("p",[a("em",[s._v("唯一约束不允许出现相同的值，但是允许出现多个 NULL 值。")])]),s._v(" "),a("h4",{attrs:{id:"新增和取消唯一约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新增和取消唯一约束"}},[s._v("#")]),s._v(" 新增和取消唯一约束")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("新增唯一约束")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("建表时设置")]),s._v(" "),a("p",[s._v("建表语句某字段添加 UNIQUE 标识。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("stu_num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("classroom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("student"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("classroom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CONSTRAINT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("student"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOREIGN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("classroom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REFERENCES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENGINE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("InnoDB")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARSET")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("为某列单独设置")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unique")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("stu_num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("classroom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[s._v("取消唯一约束")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" student "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" stu_num\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("hr"),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211019213555.png",alt:"image-20211019145016090"}})]),s._v(" "),a("p",[a("em",[s._v("为数据表添加了唯一约束之后，新增内容重复则会提示异常。")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211019213548.png",alt:"image-20211019144159146"}})]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"主键约束-primary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主键约束-primary"}},[s._v("#")]),s._v(" 主键约束 - PRIMARY")]),s._v(" "),a("p",[s._v("主键约束相当于"),a("strong",[s._v("唯一约束+非空约束")]),s._v("的组合，主键约束列"),a("strong",[s._v("不允许重复，也不允许出现空值")]),s._v("。同样主键约束允许设置多列，这些列都不允许为空值，并且组合的值不允许重复。")]),s._v(" "),a("p",[a("strong",[s._v("每个表最多只允许设置一个主键。")])]),s._v(" "),a("p",[s._v("MySQL 主键名总是 PRIMARY，当创建主键约束时系统默认会在 "),a("strong",[s._v("所在列或列组合上建立对应的唯一索引")]),s._v("。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211019213541.png",alt:"image-20211019152710954"}})]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"外键约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外键约束"}},[s._v("#")]),s._v(" 外键约束")]),s._v(" "),a("p",[s._v("外键约束用来保证表之间的参照完整性，主要存在于主表和从表之间，同一个表可以有多个外键约束。")]),s._v(" "),a("p",[a("strong",[s._v("外键约束的作用")])]),s._v(" "),a("ol",[a("li",[s._v("从表的外键值必须在"),a("strong",[s._v("主表中能找到或者为空")]),s._v("。")]),s._v(" "),a("li",[s._v("当主表数据被从表参照时，主表数据不允许被删除。需要先删除从表关联的数据，然后才可以删除主表数据。")]),s._v(" "),a("li",[s._v("从表参考主表的字段，在主表中要具有唯一性（主键或者唯一约束键盘的列）。")]),s._v(" "),a("li",[s._v("如果表的一个字段，要作为另一个表的外键，这个字段必须有唯一约束（或是这个字段干脆就是主键），如果只是有唯一索引，就会报错。")])]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211018172218.png",alt:"image-20211018172218915"}}),s._v(" "),a("h4",{attrs:{id:"如何添加外键"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何添加外键"}},[s._v("#")]),s._v(" 如何添加外键")]),s._v(" "),a("p",[s._v("依次打开 Navicat - 设计表 - 外键。设置从表字段和父表字段，还要设置删除时和更新时的处理策略。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211018173948.png",alt:"image-20211018173948241"}})]),s._v(" "),a("h4",{attrs:{id:"删除和更新的处理策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除和更新的处理策略"}},[s._v("#")]),s._v(" 删除和更新的处理策略")]),s._v(" "),a("ol",[a("li",[s._v("CASCADE：级联，当父表更新、删除，子表会同步更新和删除。")]),s._v(" "),a("li",[s._v("NO ACTION：没有行动。")]),s._v(" "),a("li",[s._v("RESTRICT：父表在删除和更新记录的时候，要在子表中检查是否有有关该父表要更新和删除的记录，如果有，则不允许删除和更改。")]),s._v(" "),a("li",[s._v("SET NULL：置空，当父表更新、删除的时候，字表会把外键字段变为 NULL ，所以这个时候设计表的时候该字段要允许为 NULL，否则会出错。")])]),s._v(" "),a("hr"),s._v(" "),a("p",[a("strong",[s._v("测试外键约束不同的设置方式")])]),s._v(" "),a("p",[s._v("准备测试数据。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("主表")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("classname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("classnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENGINE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("InnoDB")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARSET")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ----------------------------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Records of class")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ----------------------------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'一年级'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'一年级'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'二年级'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMIT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" FOREIGN_KEY_CHECKS "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211018174457.png",alt:"image-20211018174457850"}})]),s._v(" "),a("li",[a("p",[s._v("从表")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("classroom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("student"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("classroom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENGINE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("InnoDB")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARSET")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ----------------------------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Records of student")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ----------------------------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'小明'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'11'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])])]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211018174435.png",alt:"image-20211018174435218"}}),s._v(" "),a("hr"),s._v(" "),a("ol",[a("li",[a("p",[s._v("CASCADE 测试")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("设置外键，将删除时和更新时的处理方式都设置为 CASCADE。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CONSTRAINT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("student"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOREIGN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("classroom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REFERENCES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASCADE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASCADE")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211019213526.png",alt:"image-20211019093858371"}})])]),s._v(" "),a("li",[a("p",[s._v("更新数据")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211019213503.png",alt:"image-20211019094138544"}})])]),s._v(" "),a("li",[a("p",[s._v("结论。")]),s._v(" "),a("p",[s._v("设置为 CASCADE 时，"),a("strong",[s._v("当父表更新、删除，子表会同步更新和删除")]),s._v("。")])])])])]),s._v(" "),a("hr"),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[s._v("NO ACTION 测试")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("设置外键，将删除时和更新时的处理方式都设置为 NO ACTION。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CONSTRAINT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("student"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOREIGN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("classroom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REFERENCES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("NO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ACTION")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("NO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ACTION")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211018174313.png",alt:"image-20211018174313240"}})])]),s._v(" "),a("li",[a("p",[s._v("删除数据"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211018174258.png",alt:"image-20211018174258331"}})])]),s._v(" "),a("li",[a("p",[s._v("结论")]),s._v(" "),a("p",[s._v("设置为 NO ACTION 时，"),a("strong",[s._v("删除和更新主表数据时会抛出异常")]),s._v("。")])])])])]),s._v(" "),a("hr"),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[s._v("RESTRICT 测试")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("设置外键，将删除时和更新时的处理方式都设置为 RESTRICT。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211019213418.png",alt:"image-20211018173853091"}})])]),s._v(" "),a("li",[a("p",[s._v("删除数据")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211019213415.png",alt:"image-20211019093358107"}})])]),s._v(" "),a("li",[a("p",[s._v("结论")]),s._v(" "),a("p",[s._v("设置为 RESTRICT 时，"),a("strong",[s._v("删除和更新主表数据时会抛出异常")]),s._v("。")])])])])]),s._v(" "),a("hr"),s._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[s._v("SET NULL 测试")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("设置外键，将删除时和更新时的处理方式都设置为 SET NULL。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CONSTRAINT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("student"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOREIGN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("classroom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REFERENCES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211019213433.png",alt:"image-20211019094629416"}})])]),s._v(" "),a("li",[a("p",[s._v("删除数据")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211019213428.png",alt:"image-20211019094602089"}})])]),s._v(" "),a("li",[a("p",[s._v("结论")]),s._v(" "),a("p",[s._v("设置为 SET NULL 时，"),a("strong",[s._v("删除和更新主表数据时会将从表的外键字段设置为 NULL")]),s._v("。")])])])])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"非空约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非空约束"}},[s._v("#")]),s._v(" 非空约束")]),s._v(" "),a("p",[s._v("非空约束用来确保当前列的值不能为空值，只出现在对数据表的列上。")]),s._v(" "),a("ul",[a("li",[s._v("所有的类型都可以是 NULL，包括 int 、float 等数据类型。")]),s._v(" "),a("li",[s._v('空字符串 "" 不等于 NULL，0 也不等于 NULL。')])]),s._v(" "),a("h4",{attrs:{id:"新增和取消非空约束"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新增和取消非空约束"}},[s._v("#")]),s._v(" 新增和取消非空约束")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("新增非空约束")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("创建表时")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("classname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("classnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unsigned")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENGINE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("InnoDB")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARSET")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("单独设定某列")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" class "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MODIFY")]),s._v(" classnum "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[s._v("取消非空约束")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("单独取消")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" class "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MODIFY")]),s._v(" classnum "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("取消并设定默认值")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" class "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MODIFY")]),s._v(" classnum "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])])])]),s._v(" "),a("hr"),s._v(" "),a("p",[a("em",[s._v("数据表的字段默认为 NULL，为字段添加了非空约束之后，若添加空值会报出异常。")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/AlbertYang0801/pic-bed@main/img/20211019213350.png",alt:"image-20211019143321668"}})]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"七、常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、常见问题"}},[s._v("#")]),s._v(" 七、常见问题")]),s._v(" "),a("h3",{attrs:{id:"_1-having-和-where-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-having-和-where-的区别"}},[s._v("#")]),s._v(" 1. having 和 where 的区别？")]),s._v(" "),a("p",[s._v("having 和 where 都是用来过滤筛选数据的。")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("where 是在查询结果返回之前，对结果进行筛选，"),a("strong",[s._v("发生在分组 group by 之前")]),s._v("。")]),s._v(" "),a("p",[s._v("having 是在查询结果出来之后，对结果进行过滤，"),a("strong",[s._v("发生在 group by 之后")]),s._v("。")])]),s._v(" "),a("li",[a("p",[s._v("where 子句不能使用组函数，而 having 子句可以使用组函数。")])])]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"_2-select-语句执行顺序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-select-语句执行顺序"}},[s._v("#")]),s._v(" 2. SELECT 语句执行顺序")]),s._v(" "),a("p",[s._v("查询处理的顺序如下:")]),s._v(" "),a("ol",[a("li",[s._v("FROM")]),s._v(" "),a("li",[s._v("ON")]),s._v(" "),a("li",[s._v("JOIN")]),s._v(" "),a("li",[s._v("WHERE")]),s._v(" "),a("li",[s._v("GROUP BY")]),s._v(" "),a("li",[s._v("HAVING")]),s._v(" "),a("li",[s._v("SELECT")]),s._v(" "),a("li",[s._v("DISTINCT")]),s._v(" "),a("li",[s._v("ORDER BY")]),s._v(" "),a("li",[s._v("LIMIT")])]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("select_list"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("                     \n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("left_table"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("join_type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("right_table"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("on_predicate"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("where_predicate"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("group_by_specification"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HAVING")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("having_predicate"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("order_by_list"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" m\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[a("strong",[s._v("参考链接")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.cnblogs.com/warehouse/p/9410599.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL（五）SELECT语句执行顺序"),a("OutboundLink")],1)]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"_3-除法-div-和-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-除法-div-和-的区别"}},[s._v("#")]),s._v(" 3. 除法 div 和 / 的区别")]),s._v(" "),a("ul",[a("li",[s._v("div 为整除，该运算符只取商的整数部分，而不会四舍五入。")]),s._v(" "),a("li",[s._v("/ 运算符为实数除，运算结果为浮点型。")])]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19820523")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//19820.5230")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19820523")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//19820")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"参考链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[s._v("#")]),s._v(" 参考链接")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.bilibili.com/video/BV1xW411u7ax?spm_id_from=333.788.b_636f6d6d656e74.10",target:"_blank",rel:"noopener noreferrer"}},[s._v("尚硅谷-MySQL基础教程丨mysql数据库实战（sql数据库优化）"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);