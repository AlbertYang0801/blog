(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{419:function(t,a,s){"use strict";s.r(a);var r=s(18),v=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"springboot能同时处理多少请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#springboot能同时处理多少请求"}},[t._v("#")]),t._v(" SpringBoot能同时处理多少请求")]),t._v(" "),a("p",[t._v("SpringBoot内置了Tomcat，处理请求是 Web 容器处理的。")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("线程池线程数限制")]),t._v(" "),a("p",[t._v("而 Tomcat 的线程池默认最大线程池是 200，所以默认同时"),a("strong",[t._v("最多能处理 200 个请求")]),t._v("。")]),t._v(" "),a("blockquote",[a("p",[t._v("由于 Tomcat 线程池运行机制，核心线程用完之后，还是继续创建线程，直到最大线程数。")])])]),t._v(" "),a("li",[a("p",[t._v("连接数限制")]),t._v(" "),a("p",[t._v("达到连接池数时，会限制请求数。此时因连接数限制为准，而不是最大线程数。")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("#tomcat最大连接数限制\nserver.tomcat.max-connections=12\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"限制配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#限制配置"}},[t._v("#")]),t._v(" 限制配置")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("#tomcat最大连接数限制\nserver.tomcat.max-connections=12\n\n#线程池队列长度\nserver.tomcat.accept-count=100\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h2",{attrs:{id:"tomcat的线程池运行机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tomcat的线程池运行机制"}},[t._v("#")]),t._v(" Tomcat的线程池运行机制")]),t._v(" "),a("p",[t._v("当请求进入到 tomcat 容器时，会将请求提交到 tomcat的线程池。")]),t._v(" "),a("h3",{attrs:{id:"tomcat-的默认线程池参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tomcat-的默认线程池参数"}},[t._v("#")]),t._v(" Tomcat 的默认线程池参数")]),t._v(" "),a("ul",[a("li",[t._v("核心线程数 - 25")]),t._v(" "),a("li",[t._v("最大线程数 - 200")]),t._v(" "),a("li",[t._v("队列长度 - Integer.MAX_VALUE")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2025/05/30/EcT4hm5ikZnJdSF.png",alt:""}})]),t._v(" "),a("p",[t._v("image.png")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2025/05/30/o9s7ZvV23kX8IJz.png",alt:""}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2025/05/30/b2KLyiusAwB1mqZ.png",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("tomcat 的线程池和 Jdk的线程池运行机制有差异。")])]),t._v(" "),a("h3",{attrs:{id:"线程池差异点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#线程池差异点"}},[t._v("#")]),t._v(" 线程池差异点")]),t._v(" "),a("p",[t._v("当线程池中核心线程池用完之后，如何处理新来的任务。")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("JDK")]),t._v(" "),a("p",[t._v("将任务放到队列中。")])]),t._v(" "),a("li",[a("p",[t._v("Tomcat")]),t._v(" "),a("p",[a("strong",[t._v("核心线程数用完后，创建新线程，直到达到最大线程数，再将任务放到队列中")]),t._v("。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("线程数 < 最大线程数 ，返回false")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2025/05/30/y8Twt3zRNPkrAVE.png",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("false 之后，到最后判断进入 "),a("code",[t._v("addWorker(command, false )")]),t._v(" ，新增非核心线程。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2025/05/30/3HcQ6s2SxXPNVOZ.png",alt:""}})])])])])]),t._v(" "),a("h3",{attrs:{id:"为什么tomcat要改线程运行机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么tomcat要改线程运行机制"}},[t._v("#")]),t._v(" 为什么tomcat要改线程运行机制")]),t._v(" "),a("p",[t._v("Tomcat在核心线程数满了之后启用最大线程数的原因是"),a("strong",[t._v("为了应对高并发请求的情况")]),t._v("。")]),t._v(" "),a("p",[t._v("当核心线程数无法满足请求的处理需求时，通过创建更多的线程来处理请求可以提高系统的并发处理能力。")]),t._v(" "),a("p",[t._v("但是需要注意的是，过多的线程创建可能会导致系统资源的消耗增加，因此在配置最大线程数时需要根据实际情况和系统资源来进行调整，以避免线程过多导致系统性能下降。")])])}),[],!1,null,null,null);a.default=v.exports}}]);