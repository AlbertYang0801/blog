import{_ as e,c as t,o as r,aN as o}from"./chunks/framework.A-MC8nKA.js";const s=JSON.parse('{"title":"kafka的分区副本规划","description":"","frontmatter":{},"headers":[],"relativePath":"middleware/kafka/kafka的分区副本规划.md","filePath":"middleware/kafka/kafka的分区副本规划.md","lastUpdated":1752827238000}'),i={name:"middleware/kafka/kafka的分区副本规划.md"};function k(p,a,n,d,_,c){return r(),t("div",null,a[0]||(a[0]=[o('<h1 id="kafka的分区副本规划" tabindex="-1">kafka的分区副本规划 <a class="header-anchor" href="#kafka的分区副本规划" aria-label="Permalink to &quot;kafka的分区副本规划&quot;">​</a></h1><h3 id="_1-topic划分" tabindex="-1">1. topic划分 <a class="header-anchor" href="#_1-topic划分" aria-label="Permalink to &quot;1. topic划分&quot;">​</a></h3><p>每个日志对应一个topic。</p><p>topic 有自己的分区数量和副本数量。一般根据kafka指定的默认数量自动生成。</p><hr><h3 id="_2-分区数量" tabindex="-1">2. 分区数量 <a class="header-anchor" href="#_2-分区数量" aria-label="Permalink to &quot;2. 分区数量&quot;">​</a></h3><p>当生产者发给kafka一条消息时，根据规则分到 topic 的指定分区（partition），所以每个分区的数据是不一样的。</p><h3 id="规划分区数量" tabindex="-1">规划分区数量 <a class="header-anchor" href="#规划分区数量" aria-label="Permalink to &quot;规划分区数量&quot;">​</a></h3><p>消费者在消费数据的时候，也是从分区中消费的，<strong>同一个分区只能被消费组里的一个消费者去消费</strong>。</p><p>比如kafka有3个borker时，假如配置topic有5个分区，分配到3个borker就会出现 2 2 1 的情况。</p><p>所以在<strong>指定topic的分区数量时，最好指定数量为 borker的倍数</strong>，比如 3个或者6个。</p><hr><h3 id="_3-副本数量" tabindex="-1">3. 副本数量 <a class="header-anchor" href="#_3-副本数量" aria-label="Permalink to &quot;3. 副本数量&quot;">​</a></h3><p>topic 的每个分区可以指定副本数，副本分为主副本和从副本。</p><p>在 3个borker时，配置副本数为3个，包含1个主副本和2个从副本。实现3个borker的副本数是一致的。</p>',15)]))}const h=e(i,[["render",k]]);export{s as __pageData,h as default};
